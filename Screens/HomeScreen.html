<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Podcast Streaming Service</title>
    <style>
      :root
       {

    --background-gradient: linear-gradient(to bottom right, rgb(221, 219, 219), #b7c9e2, rgb(221, 219, 219));
    --text-color: #000000;
    --header-background: #36454F;
    --nav-hover-color: #b7c9e2;
    --nav-underline-color: #b7c9e2;
    --logo-color: whitesmoke;
    --nav-link-color: whitesmoke;
    --nav-text-color: black;
}

body
 {
            font-family: 'proxima-nova', sans-serif;
            margin: 0;
            background-image: var(--background-gradient);
            color: var(--text-color);
            opacity: 1;
            transition: opacity 0.5s ease-in-out;
        }

        body.fade-out
         {
            opacity: 0;
        }




        body.protan-mode{
   
    --background-gradient: linear-gradient(to bottom right, #a691ae, #e8f086,#a691ae);
    --text-color: #235fa4;
    --header-background:#6fde6e ;
    --nav-hover-color: black;
    --nav-underline-color: #b7c9e2;
    --logo-color: whitesmoke;
    --nav-link-color: whitesmoke;

}



body.deuter-mode{
   
   --background-gradient: linear-gradient(to bottom right, #2d3043, #2f88dc,#2d3043);
   --text-color: black;
   --header-background:#e89f43 ;
   --nav-hover-color: black;
   --nav-underline-color: #b7c9e2;
   --logo-color: whitesmoke;
   --nav-link-color: whitesmoke;

}

body.dark-mode {
   
    --background-gradient: linear-gradient(to bottom right, rgb(105, 104, 104), black, rgb(105, 104, 104));
    --text-color: #c5b358;
    --header-background:#c5b358 ;
    --nav-hover-color: black;
    --nav-underline-color: #b7c9e2;
    --logo-color: whitesmoke;
    --nav-link-color: whitesmoke;
}




header {
    background-color: var(--header-background);
    padding: 1em;
    display: flex;
    justify-content: space-between;
    align-items: center;
    animation: slideInFromLeft 1.0s ease-out;
}


nav {
    display: flex;
    gap: 1em;
    animation: slideInFromLeft 1.0s ease-out;

}

nav a {
    color: var(--nav-link-color);
    text-decoration: none;
    position: relative;
    padding: 5px 15px;
    font-size: 18px;
    transition: color 0.3s ease;
}

nav a:hover {
    color: var(--nav-hover-color);
}

nav a::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: 0;
    width: 0;
    height: 2px;
    background-color: var(--nav-underline-color);
    transition: width 0.3s ease;
}

nav a:hover::after {
    width: 100%;
}

.logo {
    color: var(--logo-color);
    text-decoration: none;
    position: relative;
    padding: 5px 15px;
    font-size: 35px;
    transition: color 0.3s ease;
}

footer {
            background-color: var(--header-background);
            padding: 1em;
            text-align: center;
            color: whitesmoke;
            animation: slideInFromLeft 1.0s ease-out;
        }


        

footer a {
    color: var(--nav-link-color);
    text-decoration: none;
    position: relative;
    padding: 5px 15px;
    font-size: 18px;
    transition: color 0.3s ease;
}

footer a:hover {
    color: var(--nav-hover-color);
}

footer a::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: 0;
    width: 0;
    height: 2px;
    background-color: var(--nav-underline-color);
    transition: width 0.3s ease;
}

footer a:hover::after {
    width: 100%;
}



        .hero {
            text-align: center;
            padding: 2em 1em;
        }

        .carousel,
        .section {
            margin: 2em 0;
        }

        .carousel {
            display: flex;
            overflow-x: auto;
            gap: 1em;
            padding: 0 1em;
            max-width: 100%;
        }

        .carousel::-webkit-scrollbar,
        .section::-webkit-scrollbar {
            display: none;
        }

        .podcast-item {
            min-width: 200px;
            cursor: pointer;
            animation: slideInFromRight 1.0s ease-out;
        }

        .podcast-item img {
            width: 100%;
            border-radius: 10px;
        }

       

        .footer-links,
        .social-media {
            display: flex;
            justify-content: center;
            gap: 1em;
        }

        .footer-links a,
        .social-media a {
            color: var(--header-text-color);
            text-decoration: none;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
           
        }

        .modal-content {
            background-color: #fefefe;
            margin: 10% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 600px;
            border-radius: 10px;
            position: relative;
            max-height: 70vh;
            overflow-y: auto;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .show-more-btn {
            background-color: #FF9494;
            color: #000;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            margin: 20px auto;
            display: block;
        }

        .social-media {
            display: flex;
            justify-content: center;
            gap: 1em;
        }

        .social-media a {
            display: block;
            width: 32px;
            height: 32px;
        }

        .social-media img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }

        .search-results {
            max-height: 400px;
            overflow-y: auto;
            padding: 1em;
            background-color: var(--search-results-background);
            
        }

        .search-results .podcast-item {
            display: flex;
            gap: 1em;
            padding: 1em 0;
            border-bottom: 1px solid #ccc;
        }

        .search-results .podcast-item img {
            width: 50px;
            height: 50px;
            object-fit: cover;
            border-radius: 5px;
        }

        .search-wrapper {
            display: flex;
            align-items: center;
            background-color: #ffffff;
            border-radius: 20px;
            padding: 5px;
        }

        .search-wrapper input {
            border: none;
            outline: none;
            flex: 1;
            padding: 10px;
            border-radius: 20px;
            background-color: var(--search-bar-background);
            color: var(--search-bar-text);
        }

        .search-wrapper button {
            background: none;
            border: none;
            cursor: pointer;
            padding: 5px;
        }

        .search-wrapper button img {
            width: 20px;
            height: 20px;
        }

        .heart-icon {
            font-size: 24px;
            cursor: pointer;
            color: var(--heart-color);
            transition: color 0.3s;
            margin-left: 10px;
            fill: none;
        }

        .heart-icon.filled {
            color: var(--heart-filled-color);
            fill: currentColor;
        }

        .profile-icon {
            width: 75px;
            height: 75px;
        }

        .profile-icon img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .modal-header {
            display: flex;
            align-items: center;
        }

        .modal-header h2 {
            margin: 0;
        }

        .audio-player {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #f0f0f0;
            padding: 10px;
            box-shadow: 0px -1px 10px rgba(0, 0, 0, 0.1);
            display: none;
        }

        .audio-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 5px;
        }

        .audio-controls button {
            background-color: #FF9494;
            color: #fff;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }

        .audio-controls input[type="range"] {
            width: 100px;
            cursor: pointer;
        }

        #scrollToTopBtn {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: red;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 15px;
            cursor: pointer;
            
        }





/* Add this to both HTML files */
.fade-out {
    opacity: 0;
    transition: opacity 0.5s ease-out;
}

.fade-in {
    opacity: 1;
    transition: opacity 0.5s ease-in;
}



.moving-container {
  width: 100%;
  overflow: hidden;
  white-space: nowrap;
  
}

.moving-text {
  display: inline-block;
  animation: moveText 20s linear infinite;
  white-space: nowrap; /* Prevents wrapping */
  max-width: 100%; /* Ensures the text stays in one line */
  --text-color: black;
}

@keyframes moveText {
  0% {
    transform: translateX(100%); /* Start just outside the right edge */
  }
  2% {
    transform: translateX(95%); /* Bring it into view almost immediately */
  }
  100% {
    transform: translateX(-100%); /* Move to outside the left edge */
  }
}












/* Keyframes for sliding the navbar in from the left */
@keyframes slideInFromLeft {
    0% {
        transform: translateX(-100%);
        opacity: 0;
    }
    100% {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes slideInFromRight {
    from {
        transform: translateX(100%); /* Start off-screen to the right */
    }
    to {
        transform: translateX(0); /* End at its original position */
    }
}

/* Apply the animation to the navbar */




@keyframes slideInFromTop {
    from {
        transform: translateY(-100%); /* Start off-screen above */
    }
    to {
        transform: translateY(0); /* End at its original position */
    }
}

@keyframes slideInFromBottom {
    from {
        transform: translateY(100%); /* Start off-screen below */
    }
    to {
        transform: translateY(0); /* End at its original position */
    }
}


 

    </style>




<script src="https://www.gstatic.com/firebasejs/9.1.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.1/firebase-storage.js"></script>





   

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const links = document.querySelectorAll("nav a");

            links.forEach(link => {
                link.addEventListener("click", function (event) {
                    event.preventDefault();
                    const href = this.getAttribute("href");
                    document.body.classList.add("fade-out");

                    setTimeout(() => {
                        window.location.href = href;
                    }, 500);
                });
            });
        });
    </script>



</head>

<body>
    <header>
        <div class="logo">PodsForSquads</div>
        <nav class= "NavBar">
            <a href="HomeScreen.html">Home</a>
            <a href="Upload.html">Upload</a>
            <a href="playlists.html">Playlists</a>
            <a href="favorites.html">Favorites</a>
            <a href="Settings.html">Settings</a>
            <a href="Analytics.html">Stats</a>
        </nav>
        <div class="search-bar">
            <div class="search-wrapper">
                <input type="text" placeholder="Search podcasts" id="searchInput" onkeypress="handleKeyPress(event)">
                <button onclick="searchPodcasts()">
                    <img src="search_1.png" alt="Search">
                </button>
            </div>
        </div>
        <div class="profile-icon">
            <img src="podsforsquadslogo_noBackground.png" alt="User Profile">
        </div>
    </header>




<!-- Moving Text Bar -->
<div class="text-bar">
    <span class="moving-text">Welcome to PodsForSquads, The home for all your podcasting needs! We will soon be displaying more info on this text bar, so stay tuned for further updates and see whats to come with us! If you have an questions, please seek the contact form below by pressing the CONTACT button, and fill out the form and we will get back to you shortly!</span>
  </div>




    <div class="hero">
        <h1>Featured Podcasts</h1>
        <div class="carousel" id="featuredPodcasts"></div>
    </div>


 



    <div class="section">
        <h2>Trending Podcasts</h2>
        <div class="carousel" id="trendingPodcasts"></div>
    </div>


    <section id="exclusivesSection" class="section">
        <h2>Pods For Squads Exclusives</h2>
        <div id="exclusivesContainer" class="carousel">
            <!-- Exclusive videos will be populated here -->
        </div>
    </section>





    <div id="podcastModal" class="modal" onclick="closeModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="modalContent"></div>
        </div>
    </div>

    <div id="searchModal" class="modal" onclick="closeSearchModal(event)">
        <div class="modal-content" onclick="event.stopPropagation()">
            <span class="close" onclick="closeSearchModal()">&times;</span>
            <div id="searchResults" class="search-results"></div>
        </div>
    </div>

    <footer>
        <div class="footer-links">
            <a href="About_Us.html">About Us</a>
            <a href="Contact.html">Contact</a>
            <a href="ToS.html">Terms of Service</a>
            <a href="PrivPol.html">Privacy Policy</a>
        </div>
        <div class="social-media">
            <a href="https://www.facebook.com/profile.php?id=61560365679571" target="_blank"><img src="../Screens/Images+Videos/Facebook_Logo.png" alt="Facebook"></a>
            <a href="https://x.com/PodsForSquads" target="_blank"><img src="../Screens/Images+Videos/Twitter_Logo.png" alt="Twitter"></a>
            <a href="https://www.instagram.com/podsforsquads/" target="_blank"><img src="../Screens/Images+Videos/Instagram_Logo.png" alt="Instagram"></a>
        </div>
    </footer>

    <script src="LightDarkMode.js"></script>





   
    
    
    
    <div id="audioPlayerContainer" style="position:fixed; bottom:0; right:0; width:100%; max-width:300px; display:none;">
        <iframe id="audioPlayer" style="width: 100%; height: 200px; border: none;"></iframe>
        <button onclick="closeAudioPlayer()">Close Player</button>
    </div>  
    
    






    <script>
        // Your existing JavaScript here

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBVoIP81JWXonhwnvVrSdIEkaprBuLxvjQ",
            authDomain: "podsforsquads.firebaseapp.com",
            databaseURL: "https://podsforsquads-default-rtdb.firebaseio.com",
            projectId: "podsforsquads",
            storageBucket: "podsforsquads.appspot.com",
            messagingSenderId: "369944495856",
            appId: "1:369944495856:web:d2027932e60be6f17da435"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Fetch user profile photo from Firebase and update the profile icon
        async function fetchUserProfilePhoto() {
            try {
                const user = firebase.auth().currentUser;
                if (user) {
                    const profilePhotoUrl = user.photoURL;
                    if (profilePhotoUrl) {
                        const profileIcon = document.getElementById('profileIcon');
                        profileIcon.innerHTML = `<img src="${profilePhotoUrl}" alt="User Profile">`;
                    }
                }
            } catch (error) {
                console.error("Error fetching user profile photo:", error);
            }
        }

        // Add click event listener to the profile icon for redirection
        document.getElementById('profileIcon').addEventListener('click', () => {
            window.location.href = 'Settings.html';
        });

        // Call the function to fetch user profile photo on page load
        document.addEventListener('DOMContentLoaded', () => {
            fetchUserProfilePhoto();
        });






        
    </script>





    <script>


const apiKey = 'cb2038d4dbd841b39dec5309c31b2d6a';
let activePodcastId = null;

async function fetchPodcasts(endpoint, elementId) {
    const response = await fetch(`https://listen-api.listennotes.com/api/v2/${endpoint}`, {
        method: 'GET',
        headers: {
            'X-ListenAPI-Key': apiKey
        }
    });
    const data = await response.json();
    const container = document.getElementById(elementId);
    container.innerHTML = '';

    data.podcasts.forEach(podcast => {
        const podcastElement = document.createElement('div');
        podcastElement.classList.add('podcast-item');
        podcastElement.innerHTML = `
            <img src="${podcast.thumbnail}" alt="${podcast.title}">
            <h3>${podcast.title}</h3>
            <p>${podcast.publisher}</p>
        `;
        podcastElement.addEventListener('click', () => fetchPodcastDetails(podcast.id));
        container.appendChild(podcastElement);
    });
}






// Add this function to handle postMessage events
window.addEventListener("message", function(event) {
    // Check if the message is from ListenNotes embed and if it's the play action
    if (event.origin === "https://www.listennotes.com" && event.data.action === "play") {
        openPlayerInNewTab();
    }
}, false);

// Function to open the player in a new tab
function openPlayerInNewTab() {
    if (activePodcastId) {
        const playerUrl = `https://www.listennotes.com/c/${activePodcastId}/embed/`;
        window.open(playerUrl, '_blank');
    }
}




























async function fetchPodcastDetails(podcastId) {
    if (activePodcastId) {
        // Close the existing player if there's an active podcast
        closeAudioPlayer();
    }

    const response = await fetch(`https://listen-api.listennotes.com/api/v2/podcasts/${podcastId}`, {
        method: 'GET',
        headers: {
            'X-ListenAPI-Key': apiKey
        }
    });

    const podcast = await response.json();
    const modalContent = document.getElementById('modalContent');
    modalContent.innerHTML = `
        <div class="modal-header">
            <h2>${podcast.title}</h2>
            <span class="heart-icon" onclick="toggleFavorite(this, '${podcast.id}', '${podcast.title}', '${podcast.thumbnail}', '${podcast.publisher}')">&#9825;</span>
        </div>
        <img src="${podcast.thumbnail}" alt="${podcast.title}">
        <p><strong>Publisher:</strong> ${podcast.publisher}</p>
        <p><strong>Description:</strong> ${podcast.description}</p>
        <div id="audioPlayerWrapper">
            <iframe id="audioPlayer" src="https://www.listennotes.com/c/${podcast.id}/embed/" height="200px" width="100%" style="width: 1px; min-width: 100%;" frameborder="0" scrolling="yes" loading="lazy"></iframe>
        </div>
    `;
    document.getElementById('podcastModal').style.display = 'block';

    activePodcastId = podcastId;

    // Add event listener to the iframe
    const audioPlayer = document.getElementById('audioPlayer');
    audioPlayer.addEventListener('load', () => {
        // Add a click event listener to the iframe content
        audioPlayer.contentWindow.document.body.addEventListener('click', () => {
            window.open(audioPlayer.src, '_blank');
        });
    });
}
function closeModal() {
    document.getElementById('podcastModal').style.display = 'none';

    // Move the audio player to the fixed position container without stopping it
    const audioPlayerWrapper = document.getElementById('audioPlayerWrapper');
    const audioPlayerContainer = document.getElementById('audioPlayerContainer');
    audioPlayerContainer.appendChild(audioPlayerWrapper);
    audioPlayerContainer.style.display = 'block';
}

function closeAudioPlayer() {
    const audioPlayerContainer = document.getElementById('audioPlayerContainer');
    audioPlayerContainer.style.display = 'none';

    // Reset the player position to modalContent so it can be reused
    const modalContent = document.getElementById('modalContent');
    const audioPlayerWrapper = document.getElementById('audioPlayerWrapper');
    modalContent.appendChild(audioPlayerWrapper);

    // Stop the current player
    const audioPlayer = document.getElementById('audioPlayer');
    audioPlayer.src = '';

    // Reset the active podcast id
    activePodcastId = null;
}

function toggleFavorite(element, podcastId, title, thumbnail, publisher) {
    element.classList.toggle('filled');
    const favorites = JSON.parse(localStorage.getItem('favorites')) || [];
    const isFavorite = favorites.some(fav => fav.id === podcastId);

    if (isFavorite) {
        const updatedFavorites = favorites.filter(fav => fav.id !== podcastId);
        localStorage.setItem('favorites', JSON.stringify(updatedFavorites));
    } else {
        const newFavorite = { id: podcastId, title: title, thumbnail: thumbnail, publisher: publisher };
        favorites.push(newFavorite);
        localStorage.setItem('favorites', JSON.stringify(favorites));
    }
}

document.addEventListener('DOMContentLoaded', () => {
    fetchPodcasts('best_podcasts?genre_id=68', 'featuredPodcasts');
    fetchPodcasts('best_podcasts?genre_id=93', 'trendingPodcasts');
});

    </script>


<button id="scrollToTopBtn" onclick="scrollToTop()">Top Of Screen</button>

<script>
  
  var mybutton = document.getElementById("scrollToTopBtn");

  window.onscroll = function() {
    scrollFunction();
  };

  function scrollFunction() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
      mybutton.style.display = "block";
    } else {
      mybutton.style.display = "none";
    }
  }

  
  function scrollToTop() {
    document.body.scrollTop = 0; // For Safari
    document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
  }
</script>


</body>

</html>