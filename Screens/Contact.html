<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - PodsForSquads</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="Images+Videos/Website_Logo.png">
    <link rel="stylesheet" href="Styles/ContactStyle.css">

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const links = document.querySelectorAll("nav a");

            links.forEach(link => {
                link.addEventListener("click", function (event) {
                    event.preventDefault();
                    const href = this.getAttribute("href");
                    document.body.classList.add("fade-out");

                    setTimeout(() => {
                        window.location.href = href;
                    }, 500);
                });
            });
        });
    </script>

</head>

<body>
    <script src="LightDarkMode.js"></script>

    <header id="Header">
        <nav>
            <a href="HomeScreen.html">Home</a>
            <a href="Upload.html">Upload</a>
            <a href="playlists.html">Playlists</a>
            <a href="favorites.html">Favorites</a>
            <a href="Settings.html">Settings</a>
            <a href="Analytics.html">Stats</a>
        </nav>

        <div class="profile-dropdown">
            <div class="profile-icon">
                <img id="profileImage" src="./Images+Videos/DefaultProfile.png" alt="User Profile">
                <i class="arrow down"></i>
            </div>

            <div class="dropdown-content">
                <a href="Settings.html">View Profile</a>
                <a href="Auth/Login.html">Log Out</a>
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            <form id="contactForm" action="https://formspree.io/f/mzzpbnov" method="POST">
                <h3>GET IN TOUCH</h3>
                <input type="text" id="name" name="name" placeholder="Your Name" required>
                <input type="email" id="email" placeholder="Please enter Companies Email" required>
                <small>Please enter the company's email as follows to ensure you're not a bot:
                    PodsForSquads@gmail.com</small>
                <input type="text" id="phone" name="phone" placeholder="Phone #" required>
                <input type="email" id="senderEmail" name="senderEmail" placeholder="Your email">
                <textarea id="message" name="message" rows="4" placeholder="How can I help you?" required></textarea>
                <button type="submit" id="Submit">Send</button>
            </form>
            <div id="ticketNumber" style="display: none;">
                <p>Thank you! Your ticket number is: <span id="ticketNumberValue"></span></p>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-links">
            <div class="footer-links">
                <a href="About_Us.html">About Us</a>
                <a href="Contact.html">Contact</a>
                <a href="ToS.html">Terms of Service</a>
                <a href="PrivPol.html">Privacy Policy</a>
                <a href="faq.html">FAQ</a>
            </div>
        </div>
        <div class="social-media">
            <a href="https://www.facebook.com/profile.php?id=61560365679571"><img
                    src="../Screens/Images+Videos/Facebook_Logo.png" alt="Facebook"></a>
            <a href="https://x.com/PodsForSquads"><img src="../Screens/Images+Videos/Twitter_Logo.png"
                    alt="Twitter"></a>
            <a href="https://www.instagram.com/podsforsquads/"><img src="../Screens/Images+Videos/Instagram_Logo.png"
                    alt="Instagram"></a>
        </div>
    </footer>

    <script>
        document.getElementById('contactForm').addEventListener('submit', function (event) {
            event.preventDefault();

            const form = event.target;
            const data = new FormData(form);

            fetch(form.action, {
                method: form.method,
                body: data,
                headers: {
                    'Accept': 'application/json'
                }
            }).then(response => {
                if (response.ok) {
                    generateTicketNumber();
                } else {
                    alert('There was a problem with your submission. Please try again.');
                }
            }).catch(error => {
                console.error('Error:', error);
                alert('There was a problem with your submission. Please try again.');
            });
        });

        function generateTicketNumber() {
            const ticketNumber = 'TICKET-' + Math.floor(Math.random() * 1000000);
            document.getElementById('ticketNumberValue').textContent = ticketNumber;
            document.getElementById('ticketNumber').style.display = 'block';
        }
    </script>
</body>

</html>